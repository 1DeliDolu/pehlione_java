<!doctype html>
<html lang="de" xmlns:th="https://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pehlione Shop | Produkte</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&family=Source+Sans+3:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" th:href="@{/style.css}" />
  </head>
  <body class="page-storefront page-products" data-page="storefront">
        <div th:replace="~{nav :: main('storefront','products')}"></div>

    <header class="container my-4">
      <div class="hero p-4 p-lg-5 pulse-up">
        <div class="row align-items-center g-4">
          <div class="col-lg-7">
            <span class="badge badge-soft rounded-pill px-3 py-2 mb-3"
              >Pehlione | Firmenübersicht</span
            >
            <h1 class="display-6 fw-bold mb-2">
              Moderne E‑Commerce- und Betriebsplattform
            </h1>
            <p class="muted mb-4">
              Pehlione wurde entwickelt, um Produktverwaltung, Zahlung, Bestellungen,
              Rückgaben und Fulfillment-Prozesse zentral zu steuern.
            </p>
            <div class="d-flex gap-2 flex-wrap">
              <button
                id="openProductsViewBtn"
                class="btn btn-brand"
                type="button"
              >
                <i class="bi bi-grid me-1"></i>Produktkatalog
              </button>
              <button
                id="openAddressesBtn"
                class="btn btn-outline-success"
                type="button"
              >
                <i class="bi bi-geo-alt me-1"></i>Adressen
              </button>
              <a
                class="btn btn-outline-dark"
                href="/swagger-ui/index.html"
                target="_blank"
                rel="noreferrer"
              >
                <i class="bi bi-braces me-1"></i>Swagger
              </a>
            </div>
          </div>

          <div class="col-lg-5">
            <div class="status-card p-4">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <div class="fw-semibold">Firmenfakten</div>
                  <div class="small muted">Pehlione Commerce Systems</div>
                </div>
                <span
                  id="healthPill"
                  class="badge rounded-pill text-bg-secondary"
                  >unbekannt</span
                >
              </div>
              <hr />
              <div class="small">
                <div class="d-flex justify-content-between">
                  <span class="muted">Gegründet</span><span>2020</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="muted">HQ</span><span>Berlin, DE</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="muted">Plattform</span><span>B2C / B2B</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="muted">Auth</span><span id="authPill">-</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="muted">Warenkorb-Artikel</span
                  ><span id="cartItemsPill">0</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="muted">API</span
                  ><span id="apiBasePill">/api/v1</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main class="container pb-5">
      <section id="homeSection" class="mb-4">
        <div class="row g-4 mb-4">
          <div class="col-lg-8">
            <div class="company-panel p-4 h-100">
              <h2 class="h4 fw-bold mb-2">Über Pehlione</h2>
              <p class="muted mb-3">
                Pehlione vereint Katalogverwaltung, Bestellorchestrierung, Zahlung und Logistik
                in einer modernen Plattform.
              </p>
              <div class="row g-2">
                <div class="col-md-4">
                  <div class="company-kpi">
                    <div class="value">99.9%</div>
                    <div class="label">Plattform-Verfügbarkeit</div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="company-kpi">
                    <div class="value">24/7</div>
                    <div class="label">Betriebsüberwachung</div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="company-kpi">
                    <div class="value">EU</div>
                    <div class="label">Datenschutz & Compliance</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="company-panel p-4 h-100">
              <h3 class="h5 fw-bold mb-2">Grundwerte</h3>
              <div class="small mb-2">
                <strong>Sicherheit zuerst:</strong> Sichere Identitäts- und Zugriffsverwaltung.
              </div>
              <div class="small mb-2">
                <strong>Betriebliche Geschwindigkeit:</strong> Schnelle Prozesse von Bestellung bis Lieferung.
              </div>
              <div class="small">
                <strong>Skalierbare Architektur:</strong> Dienste und Datenmodell für Wachstum.
              </div>
            </div>
          </div>
        </div>

        <div class="row g-4">
          <div class="col-lg-6">
            <div class="company-panel p-4 h-100">
              <h3 class="h5 fw-bold mb-2">Abteilungsstruktur</h3>
              <div class="small muted mb-2">
                Getrennte Panels für Admin, Mitarbeiter und Benutzer.
              </div>
              <div class="small">
                Im Admin-Panel werden Produkt-, Lager-, Bestell- und Rückgabe-Operationen zentral verwaltet.
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="company-panel p-4 h-100">
              <h3 class="h5 fw-bold mb-2">Zahlung & Benachrichtigung</h3>
              <div class="small muted mb-2">
                Der Checkout läuft Schritt für Schritt und die Zahlung wird validiert.
              </div>
              <div class="small">
                Bestell- und Rückgabe-Status werden per Mailhog/SMTP an Nutzer gesendet.
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="catalogSection" class="d-none">
        <div class="row g-4">
          <aside class="col-lg-3">
            <div class="status-card p-3 sticky-top" style="top: 92px">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h2 class="h6 fw-bold mb-0">Filter</h2>
                <button
                  id="clearFiltersBtn"
                  class="btn btn-sm btn-outline-dark"
                  type="button"
                >
                  Zurücksetzen
                </button>
              </div>
              <div class="mb-3">
                <label class="form-label form-label-sm mb-1">Kategorie</label>
                <div
                  id="categoryFilterList"
                  class="d-flex flex-column gap-2 small"
                >
                  <div class="muted">Kategorien werden geladen...</div>
                </div>
              </div>
              <div class="row g-2">
                <div class="col-6">
                  <label class="form-label form-label-sm mb-1">Min. Preis</label>
                  <input
                    id="filterPriceMin"
                    type="number"
                    min="0"
                    step="0.01"
                    class="form-control form-control-sm"
                    placeholder="0"
                  />
                </div>
                <div class="col-6">
                  <label class="form-label form-label-sm mb-1">Max. Preis</label>
                  <input
                    id="filterPriceMax"
                    type="number"
                    min="0"
                    step="0.01"
                    class="form-control form-control-sm"
                    placeholder="999"
                  />
                </div>
              </div>
            </div>
          </aside>

          <section id="productsSection" class="col-lg-9">
            <div class="d-flex justify-content-between align-items-end mb-3">
              <div>
                <h2 class="h4 fw-bold mb-1">Produkte</h2>
                <div class="small muted" id="resultInfo">Lädt...</div>
              </div>
              <div class="d-flex gap-2">
                <button
                  id="reloadProductsBtn"
                  class="btn btn-sm btn-outline-dark"
                  type="button"
                >
                  <i class="bi bi-arrow-repeat me-1"></i>Aktualisieren
                </button>
                <select
                  id="sortSelect"
                  class="form-select form-select-sm"
                  style="max-width: 210px"
                >
                  <option value="relevance">Sortierung: Standard</option>
                  <option value="priceAsc">Preis: Niedrig → Hoch</option>
                  <option value="priceDesc">Preis: Hoch → Niedrig</option>
                </select>
              </div>
            </div>

            <div id="productGrid" class="row g-3"></div>
          </section>
        </div>
      </section>
    </main>

        <div th:replace="~{footer :: main('storefront')}"></div>

    <div class="offcanvas offcanvas-end" tabindex="-1" id="cartCanvas">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title"><i class="bi bi-cart3 me-2"></i>Warenkorb</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
        ></button>
      </div>
      <div class="offcanvas-body d-flex flex-column gap-3">
        <div id="cartEmpty" class="text-center muted py-5 d-none">
          <i class="bi bi-bag-x fs-1 d-block mb-2"></i>
          Warenkorb leer
        </div>

        <div id="cartList" class="d-flex flex-column gap-2"></div>

        <div class="mt-auto border-top pt-3">
          <div class="d-flex justify-content-between">
            <span class="muted">Zwischensumme</span>
            <span class="price" id="cartSubtotal">0.00</span>
          </div>
          <div class="d-flex justify-content-between">
            <span class="muted">Währung</span>
            <span id="cartCurrency">EUR</span>
          </div>
          <div class="d-grid gap-2 mt-3">
            <button
              id="clearCartBtn"
              class="btn btn-outline-dark"
              type="button"
            >
              <i class="bi bi-trash3 me-1"></i>Warenkorb leeren
            </button>
            <button id="openCheckoutBtn" class="btn btn-brand" type="button">
              <i class="bi bi-credit-card me-1"></i>Checkout
            </button>
          </div>
          <div class="small muted mt-2">
            Beim Checkout wird der lokale Warenkorb automatisch mit dem Server-Warenkorb synchronisiert.
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-xl">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-shield-lock me-2"></i>Anmelden
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="alert alert-info small mb-3">
              Das Access-Token aus der Login-Antwort wird in localStorage gespeichert und als Bearer-Token für API-Aufrufe verwendet.
            </div>

            <div class="mb-2">
              <label class="form-label">Email</label>
              <input
                id="loginEmail"
                class="form-control"
                placeholder="user@example.com"
                autocomplete="username"
              />
            </div>
            <div class="mb-3">
              <label class="form-label">Passwort</label>
              <input
                id="loginPassword"
                type="password"
                class="form-control"
                placeholder="********"
                autocomplete="current-password"
              />
            </div>

            <div class="d-grid">
              <button id="loginSubmitBtn" class="btn btn-dark" type="button">
                <i class="bi bi-box-arrow-in-right me-1"></i>Anmelden
              </button>
            </div>

            <div class="small muted mt-3">
              Endpoint: <code>POST /api/v1/auth/login</code>
            </div>
            <div class="small mt-2">
              Neues Konto?
              <a href="/register" th:href="@{/register}">Hier erstellen</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="dashboardModal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content rounded-xl">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-speedometer2 me-2"></i>Dashboard
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="alert alert-light border small mb-3">
              <div>
                <strong>Benutzer:</strong>
                <span id="dashboardUserEmail">-</span>
              </div>
              <div>
                <strong>Rollen:</strong> <span id="dashboardRoleList">-</span>
              </div>
            </div>

            <div
              id="dashboardUserSection"
              class="border rounded-xl p-3 bg-white mb-3"
            >
              <h6 class="mb-2">Benutzerbereich</h6>
              <div class="small muted mb-3">
                Kontodaten ansehen und Passwort, Adresse sowie Zahlungskarte verwalten.
              </div>
              <div class="row g-3">
                <div class="col-lg-4">
                  <div class="border rounded p-3 h-100">
                    <h6 class="mb-2">Profilinfo</h6>
                    <div class="small mb-1">
                      <strong>Email:</strong>
                      <span id="profileEmailValue">-</span>
                    </div>
                    <div class="small mb-1">
                      <strong>Rollen:</strong>
                      <span id="profileRolesValue">-</span>
                    </div>
                    <div class="small mb-1">
                      <strong>Status:</strong>
                      <span id="profileStatusValue">-</span>
                    </div>
                    <div class="small">
                      <strong>Mitglied seit:</strong>
                      <span id="profileCreatedAtValue">-</span>
                    </div>
                    <div class="d-grid gap-2 mt-3">
                      <button
                        id="dashboardAddressesBtn"
                        class="btn btn-sm btn-outline-success"
                        type="button"
                      >
                        <i class="bi bi-geo-alt me-1"></i>Meine Adressen
                      </button>
                      <button
                        id="dashboardCheckoutBtn"
                        class="btn btn-sm btn-outline-dark"
                        type="button"
                      >
                        <i class="bi bi-credit-card me-1"></i>Checkout
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-lg-8">
                  <div class="border rounded p-3 mb-3">
                    <h6 class="mb-2">Passwort ändern</h6>
                    <div class="row g-2">
                      <div class="col-md-4">
                        <label class="form-label form-label-sm mb-1"
                          >Aktuelles Passwort</label
                        >
                        <input
                          id="profileCurrentPassword"
                          type="password"
                          class="form-control form-control-sm"
                          autocomplete="current-password"
                        />
                      </div>
                      <div class="col-md-4">
                        <label class="form-label form-label-sm mb-1"
                          >Neues Passwort</label
                        >
                        <input
                          id="profileNewPassword"
                          type="password"
                          class="form-control form-control-sm"
                          autocomplete="new-password"
                        />
                      </div>
                      <div class="col-md-4">
                        <label class="form-label form-label-sm mb-1"
                          >Neues Passwort bestätigen</label
                        >
                        <input
                          id="profileConfirmPassword"
                          type="password"
                          class="form-control form-control-sm"
                          autocomplete="new-password"
                        />
                      </div>
                    </div>
                    <div class="d-flex justify-content-end mt-2">
                      <button
                        id="profilePasswordChangeBtn"
                        class="btn btn-sm btn-outline-dark"
                        type="button"
                      >
                        Passwort aktualisieren
                      </button>
                    </div>
                  </div>

                  <div class="border rounded p-3 mb-3">
                    <h6 class="mb-2">Adresse aktualisieren</h6>
                    <div class="row g-2 mb-2">
                      <div class="col-md-8">
                        <label class="form-label form-label-sm mb-1"
                          >Gespeicherte Adresse</label
                        >
                        <select
                          id="profileAddressSelect"
                          class="form-select form-select-sm"
                        >
                          <option value="">Keine Adresse ausgewählt</option>
                        </select>
                      </div>
                      <div class="col-md-4 d-grid">
                        <label class="form-label form-label-sm mb-1"
                          >&nbsp;</label
                        >
                        <button
                          id="profileAddressLoadBtn"
                          class="btn btn-sm btn-outline-secondary"
                          type="button"
                        >
                          Laden
                        </button>
                      </div>
                    </div>
                    <div class="row g-2">
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Bezeichnung</label
                        >
                        <input
                          id="profileAddrLabel"
                          class="form-control form-control-sm"
                          placeholder="Zuhause"
                        />
                      </div>
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Vollständiger Name</label
                        >
                        <input
                          id="profileAddrFullName"
                          class="form-control form-control-sm"
                          placeholder="Max Mustermann"
                        />
                      </div>
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Telefon</label
                        >
                        <input
                          id="profileAddrPhone"
                          class="form-control form-control-sm"
                          placeholder="+49..."
                        />
                      </div>
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Ländercode</label
                        >
                        <input
                          id="profileAddrCountry"
                          class="form-control form-control-sm"
                          placeholder="DE"
                          value="DE"
                        />
                      </div>
                      <div class="col-md-8">
                        <label class="form-label form-label-sm mb-1"
                          >Straße</label
                        >
                        <input
                          id="profileAddrStreet"
                          class="form-control form-control-sm"
                          placeholder="Musterstrasse"
                        />
                      </div>
                      <div class="col-md-4">
                        <label class="form-label form-label-sm mb-1"
                          >Hausnummer</label
                        >
                        <input
                          id="profileAddrHouseNumber"
                          class="form-control form-control-sm"
                          placeholder="12a"
                        />
                      </div>
                      <div class="col-md-12">
                        <label class="form-label form-label-sm mb-1"
                          >Adresszusatz (Optional)</label
                        >
                        <input
                          id="profileAddrLine2"
                          class="form-control form-control-sm"
                          placeholder="Apartment, Stockwerk, etc."
                        />
                      </div>
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Stadt</label
                        >
                        <input
                          id="profileAddrCity"
                          class="form-control form-control-sm"
                          placeholder="Berlin"
                        />
                      </div>
                      <div class="col-md-3">
                        <label class="form-label form-label-sm mb-1"
                          >Bundesland (Optional)</label
                        >
                        <input
                          id="profileAddrState"
                          class="form-control form-control-sm"
                          placeholder="BE"
                        />
                      </div>
                      <div class="col-md-3">
                        <label class="form-label form-label-sm mb-1"
                          >Postleitzahl</label
                        >
                        <input
                          id="profileAddrPostal"
                          class="form-control form-control-sm"
                          placeholder="10115"
                        />
                      </div>
                    </div>
                    <div class="form-check mt-2">
                      <input
                        id="profileAddrDefault"
                        class="form-check-input"
                        type="checkbox"
                      />
                      <label class="form-check-label small"
                        >Als Standard setzen</label
                      >
                    </div>
                    <div class="d-flex justify-content-end mt-2">
                      <button
                        id="profileAddressUpdateBtn"
                        class="btn btn-sm btn-outline-primary"
                        type="button"
                      >
                        Adresse aktualisieren
                      </button>
                    </div>
                    <div id="profileAddressResult" class="small muted mt-2">
                      -
                    </div>
                  </div>

                  <div class="border rounded p-3">
                    <h6 class="mb-2">Gespeicherte Karte (Mock)</h6>
                    <div class="small muted mb-2">
                      Die Karte wird lokal im Browser für Checkout-Autofill gespeichert. CVC wird nicht gespeichert.
                    </div>
                    <div class="row g-2">
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Karteninhaber</label
                        >
                        <input
                          id="profileCardHolderName"
                          class="form-control form-control-sm"
                          autocomplete="cc-name"
                        />
                      </div>
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Kartennummer</label
                        >
                        <input
                          id="profileCardNumber"
                          class="form-control form-control-sm"
                          inputmode="numeric"
                          autocomplete="cc-number"
                        />
                      </div>
                      <div class="col-md-3">
                        <label class="form-label form-label-sm mb-1"
                          >Ablauf Monat</label
                        >
                        <input
                          id="profileCardExpMonth"
                          class="form-control form-control-sm"
                          inputmode="numeric"
                          autocomplete="cc-exp-month"
                          placeholder="MM"
                        />
                      </div>
                      <div class="col-md-3">
                        <label class="form-label form-label-sm mb-1"
                          >Ablauf Jahr</label
                        >
                        <input
                          id="profileCardExpYear"
                          class="form-control form-control-sm"
                          inputmode="numeric"
                          autocomplete="cc-exp-year"
                          placeholder="YYYY"
                        />
                      </div>
                      <div class="col-md-6 d-flex align-items-end gap-2">
                        <button
                          id="profileCardSaveBtn"
                          class="btn btn-sm btn-outline-dark"
                          type="button"
                        >
                          Karte speichern
                        </button>
                        <button
                          id="profileCardClearBtn"
                          class="btn btn-sm btn-outline-danger"
                          type="button"
                        >
                          Löschen
                        </button>
                      </div>
                    </div>
                    <div id="profileCardResult" class="small muted mt-2">
                      Keine gespeicherte Karte
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div
              id="dashboardAdminSection"
              class="border rounded-xl p-3 bg-white mb-3 d-none"
            >
              <h6 class="mb-2">Admin Bereich</h6>
              <div class="small muted mb-3">
                Alle Verwaltungsfunktionen sind in diesem Panel verfügbar.
              </div>

              <ul class="nav nav-pills flex-wrap gap-2 mb-3" role="tablist">
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link active"
                    data-bs-toggle="pill"
                    data-bs-target="#adminOrdersPane"
                    type="button"
                    role="tab"
                  >
                    Orders
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    data-bs-toggle="pill"
                    data-bs-target="#adminInventoryPane"
                    type="button"
                    role="tab"
                  >
                    Inventory
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    data-bs-toggle="pill"
                    data-bs-target="#adminRefundsPane"
                    type="button"
                    role="tab"
                  >
                    Refunds
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    data-bs-toggle="pill"
                    data-bs-target="#adminWebhooksPane"
                    type="button"
                    role="tab"
                  >
                    Webhooks
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    data-bs-toggle="pill"
                    data-bs-target="#adminCatalogPane"
                    type="button"
                    role="tab"
                  >
                    Catalog
                  </button>
                </li>
              </ul>

              <div class="tab-content">
                <div
                  id="adminOrdersPane"
                  class="tab-pane fade show active"
                  role="tabpanel"
                >
                  <div class="row g-2 align-items-end mb-2">
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Status</label
                      >
                      <select
                        id="adminOrderStatus"
                        class="form-select form-select-sm"
                      >
                        <option value="">ALL</option>
                        <option value="PENDING_PAYMENT">PENDING_PAYMENT</option>
                        <option value="PAID">PAID</option>
                        <option value="SHIPPED">SHIPPED</option>
                        <option value="PAYMENT_FAILED">PAYMENT_FAILED</option>
                        <option value="REFUND_PENDING">REFUND_PENDING</option>
                        <option value="REFUNDED">REFUNDED</option>
                        <option value="PLACED">PLACED</option>
                        <option value="CANCELLED">CANCELLED</option>
                        <option value="FULFILLED">FULFILLED</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Benutzer Email</label
                      >
                      <input
                        id="adminOrderEmail"
                        class="form-control form-control-sm"
                        placeholder="user@pehlione.com"
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Bestellnummer</label
                      >
                      <input
                        id="adminOrderQuery"
                        class="form-control form-control-sm"
                        placeholder="ord_..."
                      />
                    </div>
                    <div class="col-md-3 d-grid">
                      <button
                        id="adminOrdersLoadBtn"
                        class="btn btn-sm btn-outline-dark"
                        type="button"
                      >
                        Auflisten
                      </button>
                    </div>
                  </div>

                  <div class="table-responsive border rounded mb-2">
                    <table class="table table-sm align-middle mb-0">
                      <thead>
                        <tr>
                          <th>Order</th>
                          <th>Status</th>
                          <th>User</th>
                          <th>Total</th>
                          <th>Aktionen</th>
                        </tr>
                      </thead>
                      <tbody id="adminOrdersBody">
                        <tr>
                          <td colspan="5" class="small muted">
                            Liste nicht verfügbar
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div id="adminOrdersMeta" class="small muted mb-3">-</div>

                  <div class="row g-2 align-items-end mb-2">
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Order Id</label
                      >
                      <input
                        id="adminOrderIdInput"
                        class="form-control form-control-sm"
                        placeholder="ord_..."
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Carrier</label
                      >
                      <input
                        id="adminShipCarrier"
                        class="form-control form-control-sm"
                        placeholder="mock-courier"
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Tracking</label
                      >
                      <input
                        id="adminShipTracking"
                        class="form-control form-control-sm"
                        placeholder="TRK-001"
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Stornogrund</label
                      >
                      <input
                        id="adminCancelReason"
                        class="form-control form-control-sm"
                        placeholder="optional"
                      />
                    </div>
                  </div>
                  <div class="d-flex flex-wrap gap-2 mb-2">
                    <button
                      id="adminOrderDetailBtn"
                      class="btn btn-sm btn-outline-dark"
                      type="button"
                    >
                      Detail
                    </button>
                    <button
                      id="adminShipBtn"
                      class="btn btn-sm btn-outline-primary"
                      type="button"
                    >
                      Versenden
                    </button>
                    <button
                      id="adminDeliverBtn"
                      class="btn btn-sm btn-outline-success"
                      type="button"
                    >
                      Zustellen
                    </button>
                    <button
                      id="adminCancelBtn"
                      class="btn btn-sm btn-outline-danger"
                      type="button"
                    >
                      Stornieren
                    </button>
                  </div>
                  <pre
                    id="adminOrderDetailBox"
                    class="small bg-light border rounded p-2 mb-0"
                    style="max-height: 220px; overflow: auto"
                  >
Bestelldetail wird hier angezeigt.</pre
                  >
                </div>

                <div
                  id="adminInventoryPane"
                  class="tab-pane fade"
                  role="tabpanel"
                >
                  <div class="row g-2 align-items-end mb-2">
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Produkt Id</label
                      >
                      <input
                        id="adminInventoryProductId"
                        type="number"
                        min="1"
                        class="form-control form-control-sm"
                        placeholder="1"
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Nachfüllmenge</label
                      >
                      <input
                        id="adminRestockQty"
                        type="number"
                        min="1"
                        class="form-control form-control-sm"
                        value="1"
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Anpassung (Delta)</label
                      >
                      <input
                        id="adminAdjustDelta"
                        type="number"
                        class="form-control form-control-sm"
                        value="-1"
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Grund</label
                      >
                      <input
                        id="adminInventoryReason"
                        class="form-control form-control-sm"
                        placeholder="manuelle Korrektur"
                      />
                    </div>
                  </div>
                  <div class="d-flex flex-wrap gap-2 mb-2">
                    <button
                      id="adminRestockBtn"
                      class="btn btn-sm btn-outline-primary"
                      type="button"
                    >
                      Nachfüllen
                    </button>
                    <button
                      id="adminAdjustBtn"
                      class="btn btn-sm btn-outline-warning"
                      type="button"
                    >
                      Anpassen
                    </button>
                  </div>
                  <pre
                    id="adminInventoryResult"
                    class="small bg-light border rounded p-2 mb-0"
                  >
Inventory-Ergebnis wird hier angezeigt.</pre
                  >
                </div>

                <div
                  id="adminRefundsPane"
                  class="tab-pane fade"
                  role="tabpanel"
                >
                  <div class="row g-2 align-items-end mb-2">
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Status</label
                      >
                      <select
                        id="adminRefundStatus"
                        class="form-select form-select-sm"
                      >
                        <option value="">ALL</option>
                        <option value="PENDING">PENDING</option>
                        <option value="SUCCEEDED">SUCCEEDED</option>
                        <option value="FAILED">FAILED</option>
                        <option value="CANCELLED">CANCELLED</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Benutzer Email</label
                      >
                      <input
                        id="adminRefundEmail"
                        class="form-control form-control-sm"
                        placeholder="user@"
                      />
                    </div>
                    <div class="col-md-3">
                      <label class="form-label form-label-sm mb-1"
                        >Bestellnummer</label
                      >
                      <input
                        id="adminRefundOrderId"
                        class="form-control form-control-sm"
                        placeholder="ord_..."
                      />
                    </div>
                    <div class="col-md-3 d-grid">
                      <button
                        id="adminRefundsLoadBtn"
                        class="btn btn-sm btn-outline-dark"
                        type="button"
                      >
                        Auflisten
                      </button>
                    </div>
                  </div>
                  <div class="table-responsive border rounded mb-2">
                    <table class="table table-sm align-middle mb-0">
                      <thead>
                        <tr>
                          <th>Refund</th>
                          <th>Status</th>
                          <th>User</th>
                          <th>Order</th>
                          <th>Betrag</th>
                        </tr>
                      </thead>
                      <tbody id="adminRefundsBody">
                        <tr>
                          <td colspan="5" class="small muted">
                            Liste nicht verfügbar
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div id="adminRefundsMeta" class="small muted">-</div>
                </div>

                <div
                  id="adminWebhooksPane"
                  class="tab-pane fade"
                  role="tabpanel"
                >
                  <div class="row g-2 align-items-end mb-2">
                    <div class="col-md-4">
                      <label class="form-label form-label-sm mb-1"
                        >Provider</label
                      >
                      <input
                        id="adminWebhookProvider"
                        class="form-control form-control-sm"
                        placeholder="mock"
                      />
                    </div>
                    <div class="col-md-4">
                      <label class="form-label form-label-sm mb-1"
                        >Event Id</label
                      >
                      <input
                        id="adminWebhookEventId"
                        class="form-control form-control-sm"
                        placeholder="evt_"
                      />
                    </div>
                    <div class="col-md-4 d-grid">
                      <button
                        id="adminWebhookLoadBtn"
                        class="btn btn-sm btn-outline-dark"
                        type="button"
                      >
                        Auflisten
                      </button>
                    </div>
                  </div>
                  <div class="table-responsive border rounded mb-2">
                    <table class="table table-sm align-middle mb-0">
                      <thead>
                        <tr>
                          <th>Provider</th>
                          <th>Event Id</th>
                          <th>Payload Hash</th>
                          <th>Empfangen</th>
                        </tr>
                      </thead>
                      <tbody id="adminWebhookBody">
                        <tr>
                          <td colspan="4" class="small muted">
                            Liste nicht verfügbar
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div id="adminWebhookMeta" class="small muted">-</div>
                </div>

                <div
                  id="adminCatalogPane"
                  class="tab-pane fade"
                  role="tabpanel"
                >
                  <div class="border rounded p-2 mb-2">
                    <h6 class="mb-2">Kategorie CRUD</h6>
                    <div class="row g-2 align-items-end">
                      <div class="col-md-2">
                        <label class="form-label form-label-sm mb-1">Id</label>
                        <input
                          id="adminCategoryId"
                          type="number"
                          min="1"
                          class="form-control form-control-sm"
                          placeholder="1"
                        />
                      </div>
                      <div class="col-md-4">
                        <label class="form-label form-label-sm mb-1"
                          >Slug</label
                        >
                        <input
                          id="adminCategorySlug"
                          class="form-control form-control-sm"
                          placeholder="electronics"
                        />
                      </div>
                      <div class="col-md-6">
                        <label class="form-label form-label-sm mb-1"
                          >Name</label
                        >
                        <input
                          id="adminCategoryName"
                          class="form-control form-control-sm"
                          placeholder="Electronics"
                        />
                      </div>
                    </div>
                    <div class="d-flex flex-wrap gap-2 mt-2">
                      <button
                        id="adminCategoryCreateBtn"
                        class="btn btn-sm btn-outline-primary"
                        type="button"
                      >
                        Erstellen
                      </button>
                      <button
                        id="adminCategoryUpdateBtn"
                        class="btn btn-sm btn-outline-warning"
                        type="button"
                      >
                        Aktualisieren
                      </button>
                      <button
                        id="adminCategoryDeleteBtn"
                        class="btn btn-sm btn-outline-danger"
                        type="button"
                      >
                        Löschen
                      </button>
                    </div>
                    <pre
                      id="adminCategoryResult"
                      class="small bg-light border rounded p-2 mt-2 mb-0"
                    >
Kategorie-Ergebnis wird hier angezeigt.</pre
                    >
                  </div>

                  <div class="border rounded p-2 mb-2">
                    <h6 class="mb-2">Produkt CRUD</h6>
                    <div class="row g-2 align-items-end mb-2">
                      <div class="col-md-9">
                        <label class="form-label form-label-sm mb-1"
                          >Suche</label
                        >
                        <input
                          id="adminProductSearch"
                          class="form-control form-control-sm"
                          placeholder="Name / SKU"
                        />
                      </div>
                      <div class="col-md-3 d-grid">
                        <button
                          id="adminProductsLoadBtn"
                          class="btn btn-sm btn-outline-dark"
                          type="button"
                        >
                          Produkte auflisten
                        </button>
                      </div>
                    </div>
                    <div class="table-responsive border rounded mb-2">
                      <table class="table table-sm align-middle mb-0">
                        <thead>
                          <tr>
                            <th>Id</th>
                            <th>SKU</th>
                            <th>Name</th>
                            <th>Status</th>
                            <th>Preis</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody id="adminProductsBody">
                          <tr>
                            <td colspan="6" class="small muted">
                              Liste nicht verfügbar
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div id="adminProductsMeta" class="small muted mb-2">-</div>

                    <div class="row g-2 align-items-end">
                      <div class="col-md-2">
                        <label class="form-label form-label-sm mb-1"
                          >Produkt Id</label
                        >
                        <input
                          id="adminProductId"
                          type="number"
                          min="1"
                          class="form-control form-control-sm"
                          placeholder="1"
                        />
                      </div>
                      <div class="col-md-2">
                        <label class="form-label form-label-sm mb-1">SKU</label>
                        <input
                          id="adminProductSku"
                          class="form-control form-control-sm"
                          placeholder="SKU-001"
                        />
                      </div>
                      <div class="col-md-4">
                        <label class="form-label form-label-sm mb-1"
                          >Name</label
                        >
                        <input
                          id="adminProductName"
                          class="form-control form-control-sm"
                          placeholder="Produktname"
                        />
                      </div>
                      <div class="col-md-2">
                        <label class="form-label form-label-sm mb-1"
                          >Preis</label
                        >
                        <input
                          id="adminProductPrice"
                          type="number"
                          step="0.01"
                          min="0.01"
                          class="form-control form-control-sm"
                          value="10.00"
                        />
                      </div>
                      <div class="col-md-2">
                        <label class="form-label form-label-sm mb-1"
                          >Währung</label
                        >
                        <input
                          id="adminProductCurrency"
                          class="form-control form-control-sm"
                          value="EUR"
                        />
                      </div>
                      <div class="col-md-2">
                        <label class="form-label form-label-sm mb-1"
                          >Lager</label
                        >
                        <input
                          id="adminProductStock"
                          type="number"
                          min="0"
                          class="form-control form-control-sm"
                          value="1"
                        />
                      </div>
                      <div class="col-md-3">
                        <label class="form-label form-label-sm mb-1"
                          >Status</label
                        >
                        <select
                          id="adminProductStatus"
                          class="form-select form-select-sm"
                        >
                          <option value="ACTIVE">ACTIVE</option>
                          <option value="DRAFT">DRAFT</option>
                          <option value="ARCHIVED">ARCHIVED</option>
                        </select>
                      </div>
                      <div class="col-md-7">
                        <label class="form-label form-label-sm mb-1"
                          >Kategorie-Ids (Komma)</label
                        >
                        <input
                          id="adminProductCategoryIds"
                          class="form-control form-control-sm"
                          placeholder="1,2,3"
                        />
                      </div>
                      <div class="col-12">
                        <label class="form-label form-label-sm mb-1"
                          >Beschreibung</label
                        >
                        <textarea
                          id="adminProductDescription"
                          class="form-control form-control-sm"
                          rows="2"
                          placeholder="Optionale Beschreibung"
                        ></textarea>
                      </div>
                    </div>
                    <div class="d-flex flex-wrap gap-2 mt-2">
                      <button
                        id="adminProductCreateBtn"
                        class="btn btn-sm btn-outline-primary"
                        type="button"
                      >
                        Erstellen
                      </button>
                      <button
                        id="adminProductUpdateBtn"
                        class="btn btn-sm btn-outline-warning"
                        type="button"
                      >
                        Aktualisieren
                      </button>
                      <button
                        id="adminProductDeleteBtn"
                        class="btn btn-sm btn-outline-danger"
                        type="button"
                      >
                        Löschen
                      </button>
                    </div>
                    <pre
                      id="adminProductResult"
                      class="small bg-light border rounded p-2 mt-2 mb-0"
                    >
Produkt-Ergebnis wird hier angezeigt.</pre
                    >
                  </div>

                  <div class="border rounded p-2">
                    <h6 class="mb-2">Produktbild</h6>
                    <div class="row g-2 align-items-end">
                      <div class="col-md-3">
                        <label class="form-label form-label-sm mb-1"
                          >Produkt Id</label
                        >
                        <input
                          id="adminImageProductId"
                          type="number"
                          min="1"
                          class="form-control form-control-sm"
                          placeholder="1"
                        />
                      </div>
                      <div class="col-md-5">
                        <label class="form-label form-label-sm mb-1"
                          >Bild-URL</label
                        >
                        <input
                          id="adminImageUrl"
                          class="form-control form-control-sm"
                          placeholder="https://..."
                        />
                      </div>
                      <div class="col-md-4">
                        <label class="form-label form-label-sm mb-1"
                          >Alt-Text</label
                        >
                        <input
                          id="adminImageAlt"
                          class="form-control form-control-sm"
                          placeholder="Frontansicht"
                        />
                      </div>
                      <div class="col-md-3">
                        <label class="form-label form-label-sm mb-1"
                          >Bild-Id (löschen)</label
                        >
                        <input
                          id="adminImageId"
                          type="number"
                          min="1"
                          class="form-control form-control-sm"
                          placeholder="10"
                        />
                      </div>
                      <div class="col-md-9 d-flex flex-wrap gap-2">
                        <button
                          id="adminImageAddBtn"
                          class="btn btn-sm btn-outline-primary"
                          type="button"
                        >
                          Bild hinzufügen
                        </button>
                        <button
                          id="adminImageDeleteBtn"
                          class="btn btn-sm btn-outline-danger"
                          type="button"
                        >
                          Bild löschen
                        </button>
                      </div>
                    </div>
                    <pre
                      id="adminImageResult"
                      class="small bg-light border rounded p-2 mt-2 mb-0"
                    >
Bild-Ergebnis wird hier angezeigt.</pre
                    >
                  </div>
                </div>
              </div>
            </div>

            <div
              id="dashboardWorkerSection"
              class="border rounded-xl p-3 bg-white d-none"
            >
              <h6 class="mb-2">Mitarbeiterbereich</h6>
              <div class="small muted">
                Operative/Fulfillment-Aufgaben werden hier angezeigt.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="ordersModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content rounded-xl">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-receipt me-2"></i>Meine Bestellungen
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <div class="small muted">
                Ihre Bestellungen (neueste oben)
              </div>
              <button
                id="ordersLoadBtn"
                class="btn btn-sm btn-outline-dark"
                type="button"
              >
                Aktualisieren
              </button>
            </div>
            <div class="table-responsive border rounded mb-2">
              <table class="table table-sm align-middle mb-0">
                <thead>
                  <tr>
                    <th>Order</th>
                    <th>Status</th>
                    <th>Total</th>
                    <th>Erstellt</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="ordersBody">
                  <tr>
                    <td colspan="5" class="small muted">Liste nicht verfügbar</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div id="ordersMeta" class="small muted mb-2">-</div>
            <div
              id="ordersDetailBox"
              class="small bg-light border rounded p-2 mb-0"
              style="max-height: 320px; overflow: auto"
            >
              <div class="muted">Bestelldetails werden hier angezeigt.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="addressesModal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content rounded-xl">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-geo-alt me-2"></i>Adressen
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <div class="muted small">
                Zur Auswahl der Lieferadresse beim Checkout.
              </div>
              <button
                id="openNewAddressBtn"
                class="btn btn-sm btn-brand"
                type="button"
              >
                <i class="bi bi-plus-lg me-1"></i>Neue Adresse
              </button>
            </div>
            <div id="addressesList" class="row g-2"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="checkoutModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content rounded-xl">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-receipt me-2"></i>Checkout
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="small muted mb-2">
              Schritt <span id="checkoutStepIndicator">1</span>/5
            </div>
            <div class="progress mb-3">
              <div
                id="checkoutProgressBar"
                class="progress-bar"
                role="progressbar"
                style="width: 20%"
                aria-valuenow="20"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                20%
              </div>
            </div>
            <div class="row g-3">
              <div class="col-lg-8">
                <div
                  class="border rounded-xl p-3 mb-2 checkout-step"
                  data-checkout-step="1"
                >
                  <div class="fw-semibold mb-2">1. Konto prüfen</div>
                  <div id="checkoutLoginStatus" class="small">Überprüfung...</div>
                </div>

                <div
                  class="border rounded-xl p-3 mb-2 d-none checkout-step"
                  data-checkout-step="2"
                >
                  <div class="fw-semibold mb-2">2. Lieferadresse</div>
                  <div
                    id="checkoutAddresses"
                    class="d-flex flex-column gap-2"
                  ></div>
                  <div class="small muted mt-2">
                    Falls keine Adresse vorhanden ist, zuerst eine hinzufügen.
                  </div>
                </div>

                <div
                  class="border rounded-xl p-3 mb-2 d-none checkout-step"
                  data-checkout-step="3"
                >
                  <div class="fw-semibold mb-2">3. Rechnungsinformationen</div>
                  <div class="row g-2">
                    <div class="col-md-6">
                      <label class="form-label form-label-sm mb-1"
                        >Rechnungsname</label
                      >
                      <input
                        id="invoiceFullName"
                        class="form-control form-control-sm"
                        placeholder="Max Mustermann"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="form-label form-label-sm mb-1"
                        >Rechnungs-Email</label
                      >
                      <input
                        id="invoiceEmail"
                        class="form-control form-control-sm"
                        placeholder="user@pehlione.com"
                      />
                    </div>
                    <div class="col-md-6">
                      <label class="form-label form-label-sm mb-1"
                        >Rechnungstyp</label
                      >
                      <select
                        id="invoiceType"
                        class="form-select form-select-sm"
                      >
                        <option value="PERSONAL">Privat</option>
                        <option value="COMPANY">Firma</option>
                      </select>
                    </div>
                    <div class="col-md-6">
                      <label class="form-label form-label-sm mb-1"
                        >Steuernummer (Optional)</label
                      >
                      <input
                        id="invoiceTaxNumber"
                        class="form-control form-control-sm"
                        placeholder="DE123456789"
                      />
                    </div>
                    <div class="col-12">
                      <label class="form-label form-label-sm mb-1"
                        >Rechnungsnotiz (Optional)</label
                      >
                      <textarea
                        id="invoiceNote"
                        class="form-control form-control-sm"
                        rows="2"
                        placeholder="Optionale Rechnungsnotiz"
                      ></textarea>
                    </div>
                  </div>
                </div>

                <div
                  class="border rounded-xl p-3 mb-2 d-none checkout-step"
                  data-checkout-step="4"
                >
                  <div class="fw-semibold mb-2">4. Zahlungsmethode</div>
                  <div class="d-flex flex-column gap-2 mb-3">
                    <label class="form-check border rounded p-2">
                      <input
                        id="paymentMethodCredit"
                        class="form-check-input me-2"
                        type="radio"
                        name="paymentMethod"
                        value="CREDIT_CARD"
                        checked
                      />
                      <span class="fw-semibold">Kreditkarte</span>
                    </label>
                    <label class="form-check border rounded p-2">
                      <input
                        id="paymentMethodDebit"
                        class="form-check-input me-2"
                        type="radio"
                        name="paymentMethod"
                        value="DEBIT_CARD"
                      />
                      <span class="fw-semibold">Debitkarte</span>
                    </label>
                    <label class="form-check border rounded p-2">
                      <input
                        id="paymentMethodPaypal"
                        class="form-check-input me-2"
                        type="radio"
                        name="paymentMethod"
                        value="PAYPAL"
                      />
                      <span class="fw-semibold">PayPal</span>
                    </label>
                  </div>

                  <div id="paymentCardFields" class="row g-2">
                    <div class="col-12">
                      <label class="form-label">Karteninhaber</label>
                      <input
                        id="cardHolderName"
                        class="form-control"
                        autocomplete="cc-name"
                        placeholder="Max Mustermann"
                      />
                    </div>
                    <div class="col-12">
                      <label class="form-label">Kartennummer</label>
                      <input
                        id="cardNumber"
                        class="form-control"
                        inputmode="numeric"
                        autocomplete="cc-number"
                        placeholder="4242 4242 4242 4242"
                      />
                    </div>
                    <div class="col-4">
                      <label class="form-label">Ablauf Monat</label>
                      <input
                        id="cardExpMonth"
                        class="form-control"
                        inputmode="numeric"
                        autocomplete="cc-exp-month"
                        placeholder="MM"
                      />
                    </div>
                    <div class="col-4">
                      <label class="form-label">Ablauf Jahr</label>
                      <input
                        id="cardExpYear"
                        class="form-control"
                        inputmode="numeric"
                        autocomplete="cc-exp-year"
                        placeholder="YYYY"
                      />
                    </div>
                    <div class="col-4">
                      <label class="form-label">CVC</label>
                      <input
                        id="cardCvc"
                        class="form-control"
                        inputmode="numeric"
                        autocomplete="cc-csc"
                        placeholder="123"
                      />
                    </div>
                  </div>
                </div>

                <div
                  class="border rounded-xl p-3 d-none checkout-step"
                  data-checkout-step="5"
                >
                  <div class="fw-semibold mb-2">5. Überprüfen & Bestätigen</div>
                  <pre
                    id="checkoutReviewBox"
                    class="small bg-light border rounded p-2 mb-2"
                  >
Überprüfung wird hier angezeigt.</pre
                  >
                  <div class="form-check">
                    <input
                      id="checkoutTermsCheck"
                      class="form-check-input"
                      type="checkbox"
                    />
                    <label class="form-check-label small"
                      >Ich akzeptiere die AGB und die Datenschutzerklärung.</label
                    >
                  </div>
                </div>

                <div class="d-flex justify-content-between mt-3">
                  <button
                    id="checkoutPrevBtn"
                    class="btn btn-outline-dark btn-sm"
                    type="button"
                  >
                    Zurück
                  </button>
                  <button
                    id="checkoutNextBtn"
                    class="btn btn-brand btn-sm"
                    type="button"
                  >
                    Weiter
                  </button>
                </div>
              </div>

              <div class="col-lg-4">
                <div class="bg-light rounded-xl p-3">
                  <div class="fw-semibold mb-2">Zusammenfassung</div>
                  <div class="d-flex justify-content-between">
                    <span class="muted">Gesamt</span
                    ><span class="price" id="checkoutTotal">0.00</span>
                  </div>
                  <div class="d-flex justify-content-between">
                    <span class="muted">Währung</span
                    ><span id="checkoutCurrency">EUR</span>
                  </div>
                  <hr />
                  <div class="d-grid gap-2">
                    <button
                      id="startPaymentBtn"
                      class="btn btn-brand"
                      type="button"
                    >
                      <i class="bi bi-credit-card me-1"></i>Bestätigen & Zahlung starten
                    </button>
                    <button
                      id="confirmPaymentBtn"
                      class="btn btn-outline-dark"
                      type="button"
                    >
                      <i class="bi bi-check2-circle me-1"></i>Mock bestätigen (dev)
                    </button>
                  </div>
                  <div class="small muted mt-2">
                    Ablauf: Konto prüfen -> Adresse -> Rechnung -> Zahlung -> Überprüfung.
                  </div>
                  <div class="alert alert-secondary small mt-3 mb-0">
                    paymentId:
                    <span id="lastPaymentId" class="fw-semibold">-</span><br />
                    orderId: <span id="lastOrderId" class="fw-semibold">-</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div> 
    </div>

    <div
      class="modal fade"
      id="newAddressModal"
      tabindex="-1"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content rounded-xl">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-plus-circle me-2"></i>Neue Adresse
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="row g-2">
              <div class="col-md-6">
                <label class="form-label">Bezeichnung</label>
                <input id="addrLabel" class="form-control" placeholder="Zuhause" />
              </div>
              <div class="col-md-6">
                <label class="form-label">Vollständiger Name</label>
                <input
                  id="addrFullName"
                  class="form-control"
                  placeholder="Ali Veli"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">Telefon</label>
                <input
                  id="addrPhone"
                  class="form-control"
                  placeholder="+49..."
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">Ländercode</label>
                <input
                  id="addrCountry"
                  class="form-control"
                  placeholder="DE"
                  value="DE"
                />
              </div>
              <div class="col-md-8">
                <label class="form-label">Straße</label>
                <input
                  id="addrStreet"
                  class="form-control"
                  placeholder="Musterstrasse"
                />
              </div>
              <div class="col-md-4">
                <label class="form-label">Hausnummer</label>
                <input
                  id="addrHouseNumber"
                  class="form-control"
                  placeholder="12a"
                />
              </div>
              <div class="col-md-12">
                <label class="form-label">Adresszusatz (Optional)</label>
                <input
                  id="addrLine2"
                  class="form-control"
                  placeholder="Apartment / c/o"
                />
              </div>
              <div class="col-md-4">
                <label class="form-label">Stadt</label>
                <input
                  id="addrCity"
                  class="form-control"
                  placeholder="Berlin"
                />
              </div>
              <div class="col-md-4">
                <label class="form-label">Bundesland</label>
                <input
                  id="addrState"
                  class="form-control"
                  placeholder="Berlin"
                />
              </div>
              <div class="col-md-4">
                <label class="form-label">Postleitzahl</label>
                <input
                  id="addrPostal"
                  class="form-control"
                  placeholder="10115"
                />
              </div>
              <div class="col-12 mt-2">
                <div class="form-check">
                  <input
                    id="addrDefault"
                    class="form-check-input"
                    type="checkbox"
                    checked
                  />
                  <label class="form-check-label">Als Standard setzen</label>
                </div>
              </div>
            </div>
            <div class="d-grid mt-3">
              <button id="createAddressBtn" class="btn btn-brand" type="button">
                <i class="bi bi-save me-1"></i>Speichern
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
      <div
        id="toast"
        class="toast align-items-center text-bg-dark border-0"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="d-flex">
          <div id="toastBody" class="toast-body">-</div>
          <button
            type="button"
            class="btn-close btn-close-white me-2 m-auto"
            data-bs-dismiss="toast"
          ></button>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/script.js" th:src="@{/script.js}"></script>
  </body>
</html>
